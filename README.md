# Задача проекта
Создание Telegram-бота, позволяющего менежеру создавать множество топиков, имеющих подробное описание.
Администратор должен иметь возможность управлять рассылкой посредством телеграм-бота, генерировать пригласительные ссылки
(ведущие непосредственно на тему) для рядовых пользователей, получать единым потоком все сообщения от пользователей в рамках одной темы,
а также ознакамливаться с сообщениями за прошедшие периоды в рамках произвольных тем.

* Бот доступен по адресу: `@MozhaykaTeamBot`

# Роли пользователей
* Суперпользователь - имеет возможность выдавать и отбирать права администратора, суперпользователя, сам обладает этими правами
* Администратор - получает сообщения от всех пользователей, отправленные в рамках одного проекта/топика, ознакамливается с сообщениями
за прошедшие периоды, управляет рассылкой через бота
* Пользователь - может отправлять сообщение ТГ боту в рамках топика/проекта, все эти сообщения будут отправлены администраторам системы

# Функционал

## MVP
### Суперпользователь
- [x] инициализирует сессию в качестве суперпользователя
- [x] получает уведомления о заявке на роль администратора (или другого суперпользователя), подтверждает/отклоняет заявки
- [x] получает список администраторов системы
- [x] отбирает у пользователей права администратора
- [x] логирование действий других суперпользователей
### Администратор
- [x] инициализирует сессию как пользователь
- [x] отправляет заявку на получение прав администратора
- [x] создает темы/топики/проекты
- [x] закрывает (удаляет) темы/топики/проекта
- [x] получает список тем/топиков/проектов
- [x] указывает описание для тем/топиков/проектов
- [x] генерирует пригласительную ссылку
- [x] изменяет область видимости тем/топиков/объявлений (приватные/публичные)
- [x] отправка сообщений в доступные боту группы/каналы
- [x] отправка сообщений пользователям, подписанных на данную тему
- [x] отвечает конкретному пользователю на сообщение
- [x] инициализирует анонимный чат с пользователем в рамках тематики
- [x] настраивает фильтр для получения сообщений только по выбранным темам/топикам/проектам
- [x] получает сообщения в реальном времени от всех пользователей в соответствии с установленными фильтрами
- [x] ознакамливается с сообщениями на заданную тематику (с фильтрацией по пользователям) за прошедший период
- [x] логирование действий других администраторов
### Пользователь
- [x] инициализирует сессию как пользователь
- [x] получает список публичных (открытых) тем/топиков/проектов
- [x] устанавливает тему для отправляемых сообщений (аналог фильтра)
- [x] пишет в чат боту (сообщения переправляются в соответствии с темой)
- [x] начальные фильтры устанавливаются в соответствии с пригласительным url'ом
### Группа
- [x] добавление бота в группу с правами администратора
- [x] рассылка сообщений в группу через бота
### Каналы
- [x] добавление бота в канал с правами администратора
- [x] рассылка сообщений в канал через бота

# Используемый стек:
* aiogram
* ormar
* PostgreSQL
* Redis

# Развертывание
1. Создать виртуальное окружение `python -m venv venv` и активировать его
2. Установить зависимости `python -m pip install -r requirements.txt`
3. Изменить файл `app/config/example.yml` на `app/cofig/config.yml` со своими данными
4. Запуск `python serve.py`
